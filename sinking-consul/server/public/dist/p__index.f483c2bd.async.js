"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{37025:function(V,B,a){a.r(B);var T=a(5574),g=a.n(T),w=a(68400),f=a.n(w),j=a(67294),b=a(44194),h=a(1479),E=a(433),p=a(71230),y=a(15746),N=a(68997),x=a(40717),e=a(83456),c=a(42952),C=a(87547),o=a(82188),u=a(77842),i=a(45444),d=a(61067),n=a(85893),s,m,v,_,D=(0,i.kc)(function(r){var t=r.token,M=r.css;return{welcomeCard:M(s||(s=f()([`
        background: linear-gradient(135deg, `,", ",`);
        border: none;

        .ant-card-body {
            padding: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 120px;
        }

        .welcome-content {
            color: white;
            text-align: center;
        }

        .welcome-title {
            color: white !important;
            margin-bottom: 8px;
            margin-top: 0;
        }

        .welcome-text {
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 0;
        }

        @media (max-width: 768px) {
            .ant-card-body {
                padding: 16px;
            }
        }
    `])),t.colorPrimary,t.colorPrimaryActive),statCard:M(m||(m=f()([`
        height: 100%;

        .ant-card-body {
            padding: 20px;
        }


        .stat-content {
            text-align: center;
        }

        .stat-number {
            font-size: 32px;
            font-weight: 600;
            line-height: 1.2;
        }

        .stat-label {
            color: `,`;
            margin-bottom: 12px;
        }

        .stat-details {
            display: flex;
            justify-content: space-around;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid `,`;
        }

        .stat-detail-item {
            text-align: center;
            flex: 1;
        }

        .stat-detail-number {
            font-size: 18px;
            font-weight: 500;
            display: block;
        }

        .stat-detail-label {
            font-size: 12px;
            color: `,`;
            margin-top: 4px;
        }

        @media (max-width: 768px) {
            .stat-number {
                font-size: 24px;
            }

            .stat-detail-number {
                font-size: 16px;
            }

            .ant-card-body {
                padding: 16px;
            }
        }
    `])),t.colorTextSecondary,t.colorBorderSecondary,t.colorTextTertiary),userCard:M(v||(v=f()([`
        height: 100%;

        .ant-card-body {
            padding: 24px;
        }

        .user-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding: 16px;
            background: linear-gradient(135deg, `,", ",`);
            border-radius: `,`px;
            border: 1px solid `,`;
        }

        .user-avatar {
            margin-right: 16px;
            background: `,`;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-weight: 600;
            font-size: 25px;
        }

        .user-status {
            color: `,`;
        }

        .user-details {
            margin-top: 20px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            margin-bottom: 8px;
            background: `,`;
            border-radius: `,`px;
            transition: all 0.2s ease;

            &:hover {
                background: `,`;
            }

            &:last-child {
                margin-bottom: 0;
            }
        }

        .detail-label {
            color: `,`;
            font-weight: 500;
            display: flex;
            align-items: center;
        }

        .detail-value {
            font-weight: 600;
            color: `,`;
        }

        @media (max-width: 768px) {
            .user-header {
                flex-direction: column;
                text-align: center;
            }

            .user-avatar {
                margin-right: 0;
                margin-bottom: 12px;
            }

            .ant-card-body {
                padding: 16px;
            }
        }
    `])),t.colorPrimaryBg,t.colorBgContainer,t.borderRadius,t.colorBorderSecondary,t.colorPrimary,t.colorTextSecondary,t.colorFillAlter,t.borderRadius,t.colorFillContent,t.colorTextSecondary,t.colorText),systemCard:M(_||(_=f()([`
        height: 100%;

        .ant-card-body {
            padding: 24px;
        }

        .system-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            padding: 16px;
            background: linear-gradient(135deg, `,", ",`);
            border-radius: `,`px;
            border: 1px solid `,`;
        }

        .system-icon {
            font-size: 27px;
            margin-right: 16px;
            vertical-align: top;
            color: `,`;
        }

        .system-title {
            font-size: 25px;
            font-weight: 700;
            color: `,`;
            margin: 0;
        }

        .system-details {
            margin-top: 20px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            margin-bottom: 8px;
            background: `,`;
            border-radius: `,`px;
            transition: all 0.2s ease;

            &:hover {
                background: `,`;
            }

            &:last-child {
                margin-bottom: 0;
            }
        }

        .detail-label {
            color: `,`;
            font-weight: 500;
            display: flex;
            align-items: center;
        }

        .detail-value {
            font-weight: 600;
            color: `,`;
        }

        @media (max-width: 768px) {
            .ant-card-body {
                padding: 16px;
            }
        }
    `])),t.colorPrimaryBg,t.colorBgContainer,t.borderRadius,t.colorBorderSecondary,t.colorPrimary,t.colorText,t.colorFillAlter,t.borderRadius,t.colorFillContent,t.colorTextSecondary,t.colorText)}});B.default=function(){var r,t,M,A,R,L,W,U,K,Z,S,$,k,z,G,H,J,nn=D(),O=nn.styles,Q=(0,o.tT)("user"),P=(0,o.tT)("web"),en=(0,j.useState)(null),X=g()(en,2),l=X[0],an=X[1],ln=(0,j.useState)(!0),Y=g()(ln,2),tn=Y[0],q=Y[1];(0,j.useEffect)(function(){q(!0),(0,u.ou)({onSuccess:function(F){an((F==null?void 0:F.data)||{})}}).finally(function(){q(!1)})},[]);var sn=function(F){return F?new Date(F).toLocaleString("zh-CN"):"\u672A\u77E5"};return(0,n.jsxs)(b.uT,{loading:tn,children:[(0,n.jsx)(h.Z,{className:O.welcomeCard,children:(0,n.jsxs)("div",{className:"welcome-content",children:[(0,n.jsxs)(E.Z.Title,{level:3,className:"welcome-title",children:["\u6B22\u8FCE\u4F7F\u7528 ",P==null||(r=P.info)===null||r===void 0?void 0:r.name]}),(0,n.jsx)(E.Z.Text,{className:"welcome-text",children:"\u5206\u5E03\u5F0F\u914D\u7F6E\u7BA1\u7406\u7CFB\u7EDF\uFF0C\u4E3A\u60A8\u63D0\u4F9B\u9AD8\u6548\u7684\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0\u80FD\u529B"})]})}),(0,n.jsxs)(p.Z,{gutter:[16,16],children:[(0,n.jsx)(y.Z,{xs:24,sm:8,lg:8,children:(0,n.jsx)(h.Z,{className:O.statCard,title:(0,n.jsx)(b.Dx,{children:"\u96C6\u7FA4\u72B6\u6001"}),extra:(0,n.jsx)("a",{onClick:function(){(0,d.BN)("cluster")},children:(0,n.jsx)(x.Z,{})}),variant:"borderless",children:(0,n.jsxs)("div",{className:"stat-content",children:[(0,n.jsx)("div",{className:"stat-number",children:(l==null||(t=l.cluster)===null||t===void 0?void 0:t.total)||0}),(0,n.jsx)("div",{className:"stat-label",children:"\u96C6\u7FA4\u603B\u6570"}),(0,n.jsxs)("div",{className:"stat-details",children:[(0,n.jsxs)("div",{className:"stat-detail-item",children:[(0,n.jsx)("span",{className:"stat-detail-number",style:{color:"#52c41a"},children:(l==null||(M=l.cluster)===null||M===void 0?void 0:M.online)||0}),(0,n.jsx)("div",{className:"stat-detail-label",children:"\u5728\u7EBF"})]}),(0,n.jsxs)("div",{className:"stat-detail-item",children:[(0,n.jsx)("span",{className:"stat-detail-number",style:{color:"#ff4d4f"},children:(l==null||(A=l.cluster)===null||A===void 0?void 0:A.offline)||0}),(0,n.jsx)("div",{className:"stat-detail-label",children:"\u79BB\u7EBF"})]})]})]})})}),(0,n.jsx)(y.Z,{xs:24,sm:8,lg:8,children:(0,n.jsx)(h.Z,{className:O.statCard,title:(0,n.jsx)(b.Dx,{children:"\u8282\u70B9\u72B6\u6001"}),extra:(0,n.jsx)("a",{onClick:function(){(0,d.BN)("node")},children:(0,n.jsx)(e.Z,{})}),variant:"borderless",children:(0,n.jsxs)("div",{className:"stat-content",children:[(0,n.jsx)("div",{className:"stat-number",children:(l==null||(R=l.node)===null||R===void 0?void 0:R.total)||0}),(0,n.jsx)("div",{className:"stat-label",children:"\u8282\u70B9\u603B\u6570"}),(0,n.jsxs)("div",{className:"stat-details",children:[(0,n.jsxs)("div",{className:"stat-detail-item",children:[(0,n.jsx)("span",{className:"stat-detail-number",style:{color:"#52c41a"},children:(l==null||(L=l.node)===null||L===void 0?void 0:L.online)||0}),(0,n.jsx)("div",{className:"stat-detail-label",children:"\u5728\u7EBF"})]}),(0,n.jsxs)("div",{className:"stat-detail-item",children:[(0,n.jsx)("span",{className:"stat-detail-number",style:{color:"#ff4d4f"},children:(l==null||(W=l.node)===null||W===void 0?void 0:W.offline)||0}),(0,n.jsx)("div",{className:"stat-detail-label",children:"\u79BB\u7EBF"})]})]})]})})}),(0,n.jsx)(y.Z,{xs:24,sm:8,lg:8,children:(0,n.jsx)(h.Z,{className:O.statCard,title:(0,n.jsx)(b.Dx,{children:"\u914D\u7F6E\u72B6\u6001"}),extra:(0,n.jsx)("a",{onClick:function(){(0,d.BN)("config")},children:(0,n.jsx)(c.Z,{})}),variant:"borderless",children:(0,n.jsxs)("div",{className:"stat-content",children:[(0,n.jsx)("div",{className:"stat-number",children:(l==null||(U=l.config)===null||U===void 0?void 0:U.total)||0}),(0,n.jsx)("div",{className:"stat-label",children:"\u914D\u7F6E\u603B\u6570"}),(0,n.jsxs)("div",{className:"stat-details",children:[(0,n.jsxs)("div",{className:"stat-detail-item",children:[(0,n.jsx)("span",{className:"stat-detail-number",style:{color:"#52c41a"},children:(l==null||(K=l.config)===null||K===void 0?void 0:K.normal)||0}),(0,n.jsx)("div",{className:"stat-detail-label",children:"\u6B63\u5E38"})]}),(0,n.jsxs)("div",{className:"stat-detail-item",children:[(0,n.jsx)("span",{className:"stat-detail-number",style:{color:"#f3c402"},children:(l==null||(Z=l.config)===null||Z===void 0?void 0:Z.abnormal)||0}),(0,n.jsx)("div",{className:"stat-detail-label",children:"\u6682\u505C"})]})]})]})})}),(0,n.jsx)(y.Z,{xs:24,sm:24,md:12,children:(0,n.jsxs)(h.Z,{className:O.userCard,title:(0,n.jsx)(b.Dx,{children:"\u8D26\u6237\u4FE1\u606F"}),variant:"borderless",children:[(0,n.jsxs)("div",{className:"user-header",children:[(0,n.jsx)(N.Z,{size:64,icon:(0,n.jsx)(C.Z,{}),className:"user-avatar"}),(0,n.jsx)("div",{className:"user-info",children:(0,n.jsx)("div",{level:4,className:"user-name",children:((S=Q.web)===null||S===void 0?void 0:S.account)||"\u7BA1\u7406\u5458"})})]}),(0,n.jsxs)("div",{className:"user-details",children:[(0,n.jsxs)("div",{className:"detail-item",children:[(0,n.jsxs)("span",{className:"detail-label",children:[(0,n.jsx)(C.Z,{style:{marginRight:8}}),"\u767B\u5F55IP"]}),(0,n.jsx)("span",{className:"detail-value",children:(($=Q.web)===null||$===void 0?void 0:$.login_ip)||"\u672A\u77E5"})]}),(0,n.jsxs)("div",{className:"detail-item",children:[(0,n.jsxs)("span",{className:"detail-label",children:[(0,n.jsx)(x.Z,{style:{marginRight:8}}),"\u767B\u5F55\u65F6\u95F4"]}),(0,n.jsx)("span",{className:"detail-value",children:sn((k=Q.web)===null||k===void 0?void 0:k.login_time)})]})]})]})}),(0,n.jsx)(y.Z,{xs:24,sm:24,md:12,children:(0,n.jsxs)(h.Z,{className:O.systemCard,title:(0,n.jsx)(b.Dx,{children:"\u7CFB\u7EDF\u4FE1\u606F"}),variant:"borderless",children:[(0,n.jsxs)("div",{className:"system-header",children:[(0,n.jsx)(b.JO,{type:"icon-logo",className:"system-icon"}),(0,n.jsx)(E.Z.Title,{level:4,className:"system-title",children:P==null||(z=P.info)===null||z===void 0?void 0:z.name})]}),(0,n.jsxs)("div",{className:"system-details",children:[(0,n.jsxs)("div",{className:"detail-item",children:[(0,n.jsxs)("span",{className:"detail-label",children:[(0,n.jsx)(e.Z,{style:{marginRight:8}}),"\u76D1\u542C\u5730\u5740"]}),(0,n.jsx)("span",{className:"detail-value",children:(l==null||(G=l.application)===null||G===void 0?void 0:G.listen)||":5678"})]}),(0,n.jsxs)("div",{className:"detail-item",children:[(0,n.jsxs)("span",{className:"detail-label",children:[(0,n.jsx)(x.Z,{style:{marginRight:8}}),"\u5916\u7F51\u5730\u5740"]}),(0,n.jsx)("span",{className:"detail-value",children:(l==null||(H=l.application)===null||H===void 0?void 0:H.address)||":5678"})]}),(0,n.jsxs)("div",{className:"detail-item",children:[(0,n.jsxs)("span",{className:"detail-label",children:[(0,n.jsx)(c.Z,{style:{marginRight:8}}),"\u90E8\u7F72\u73AF\u5883"]}),(0,n.jsx)("span",{className:"detail-value",children:(l==null||(J=l.application)===null||J===void 0?void 0:J.mode)||"release"})]})]})]})})]})]})}},77842:function(V,B,a){a.d(B,{iE:function(){return E},ou:function(){return b},v6:function(){return y}});var T=a(15009),g=a.n(T),w=a(99289),f=a.n(w),j=a(41728);function b(){return h.apply(this,arguments)}function h(){return h=f()(g()().mark(function x(){var e,c=arguments;return g()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=c.length>0&&c[0]!==void 0?c[0]:{},o.abrupt("return",(0,j.U2)("/admin/system/overview",e==null?void 0:e.body,e==null?void 0:e.onSuccess,e==null?void 0:e.onFail,e==null?void 0:e.onFinally));case 2:case"end":return o.stop()}},x)})),h.apply(this,arguments)}function E(){return p.apply(this,arguments)}function p(){return p=f()(g()().mark(function x(){var e,c=arguments;return g()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=c.length>0&&c[0]!==void 0?c[0]:{},o.abrupt("return",(0,j.U2)("/admin/system/config",e==null?void 0:e.body,e==null?void 0:e.onSuccess,e==null?void 0:e.onFail,e==null?void 0:e.onFinally));case 2:case"end":return o.stop()}},x)})),p.apply(this,arguments)}function y(){return N.apply(this,arguments)}function N(){return N=f()(g()().mark(function x(){var e,c=arguments;return g()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=c.length>0&&c[0]!==void 0?c[0]:{},o.abrupt("return",(0,j.v_)("/admin/system/config",e==null?void 0:e.body,e==null?void 0:e.onSuccess,e==null?void 0:e.onFail,e==null?void 0:e.onFinally));case 2:case"end":return o.stop()}},x)})),N.apply(this,arguments)}},61067:function(V,B,a){a.d(B,{Mq:function(){return C},mw:function(){return o},SE:function(){return c},BN:function(){return N}});var T=a(64599),g=a.n(T),w=a(82188),f=[{path:"/",title:"\u6570\u636E\u6982\u89C8",name:"index",icon:"icon-home",hideInMenu:!1,hideBreadCrumb:!0,component:"@/pages/index"},{path:"cluster",title:"\u96C6\u7FA4\u5217\u8868",name:"cluster",icon:"icon-cluster",hideInMenu:!1,component:"@/pages/cluster"},{path:"node",title:"\u670D\u52A1\u8282\u70B9",name:"node",icon:"icon-node",hideInMenu:!1,component:"@/pages/node"},{path:"config",title:"\u914D\u7F6E\u7BA1\u7406",name:"config",icon:"icon-config",hideInMenu:!1,component:"@/pages/config"},{path:"log",title:"\u64CD\u4F5C\u65E5\u5FD7",name:"log",icon:"icon-log-blue",hideInMenu:!1,component:"@/pages/log"},{path:"system",title:"\u7CFB\u7EDF\u7BA1\u7406",name:"system",icon:"icon-setting",hideInMenu:!1,component:"@/pages/system"},{path:"login",component:"@/pages/login",name:"login",title:"\u5E10\u53F7\u767B\u5F55",auth:!1,hideInMenu:!0},{path:"500",component:"@/pages/500.tsx",name:"error",title:"\u670D\u52A1\u5668\u9519\u8BEF",auth:!1,hideInMenu:!0},{path:"403",component:"@/pages/403.tsx",name:"notAllowed",title:"\u65E0\u6743\u9650",auth:!1,hideInMenu:!0},{path:"*",component:"@/pages/404.tsx",name:"notFound",title:"\u9875\u9762\u4E0D\u5B58\u5728",auth:!1,hideInMenu:!0}],j=a(44194),b=a(67294),h=a(85893);function E(u,i){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",s=g()(u),m;try{for(s.s();!(m=s.n()).done;){var v=m.value,_=n+(n&&!n.endsWith("/")?"/":"")+(v.path.startsWith("/")?v.path.slice(1):v.path);if(d&&Object.keys(d).length>0)for(var D in d)v.path.includes(":".concat(D))&&(_=_.replace(":".concat(D),d[D]));if(v.name===i)return _.startsWith("/")?_:"/".concat(_);if(v.routes){var r=E(v.routes,i,d,_);if(r)return r}}}catch(t){s.e(t)}finally{s.f()}return null}var p={};function y(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(i).length<=0&&(p==null?void 0:p[u])!=null||(p[u]=E(f,u,i,"")),p[u]}function N(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};w.m8===null||w.m8===void 0||w.m8.push(y(u,i)||"/")}function x(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"/",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return u.map(function(n){if(!(d&&n!==null&&n!==void 0&&n.hideInMenu)){var s={label:n==null?void 0:n.title,path:n==null?void 0:n.path,name:n==null?void 0:n.name};if(n!=null&&n.icon&&(s.icon=(0,h.jsx)(j.JO,{type:n==null?void 0:n.icon})),i!="/"&&!n.path.startsWith("/")?s.key="".concat(i,"/").concat(n.path):i=="/"&&n.path!="/"?s.key="/".concat(n.path):s.key="".concat(n.path),n!=null&&n.routes){var m=x(n==null?void 0:n.routes,s.key,d);m.length>0&&(s.children=m)}return s}})}var e={};function c(u,i){if(i&&Object.keys(i).length<=0&&(e==null?void 0:e[i])!=null)return e[i];var d=[];function n(s,m){var v;if(s!=null&&s.children&&(s==null||(v=s.children)===null||v===void 0?void 0:v.length)>0){if((s==null?void 0:s.name)===m)return d.push(s),!0}else{var _=g()(s),D;try{for(_.s();!(D=_.n()).done;){var r=D.value;if((r==null?void 0:r.name)===m||r!=null&&r.children&&n(r==null?void 0:r.children,m))return d.push(r),!0}}catch(t){_.e(t)}finally{_.f()}}return!1}return n(u,i),e[i]=d.reverse(),e[i]}function C(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return x(f,"/",u)}function o(u){var i=g()(u),d;try{for(i.s();!(d=i.n()).done;){var n=d.value;if(n.hasOwnProperty("children")){var s=o(n.children);if(s!==null)return s}else return n}}catch(m){i.e(m)}finally{i.f()}return null}}}]);
