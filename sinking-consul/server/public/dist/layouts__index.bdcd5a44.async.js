"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[717],{62141:function(sn,P,o){o.r(P),o.d(P,{default:function(){return jn}});var $=o(5574),O=o.n($),R=o(67294),Z=o(74330),L=o(36447),C=o(61067),h=o(82188),p=o(67610),N=function(){var a,s=(0,h.tT)("web"),m=(0,h.A4)(),c=(0,h.TH)(),v=function(){var t,g=m==null||(t=m.pop())===null||t===void 0?void 0:t.route;if(g&&g!==null&&g!==void 0&&g.title){var r;document.title=(g==null?void 0:g.title)+" - "+((s==null||(r=s.info)===null||r===void 0?void 0:r.name)||(p.Z===null||p.Z===void 0?void 0:p.Z.title))}};(0,R.useEffect)(function(){v()},[s==null||(a=s.info)===null||a===void 0?void 0:a.name,c])},B=N,l=o(49677),T=o.n(l),K=o(68400),b=o.n(K),un=o(15009),I=o.n(un),dn=o(99289),q=o.n(dn),j=o(2193),nn=o(33633),vn=o(83062),cn=o(74627),pn=o(71230),on=o(15746),en=o(68997),W=o(93657),A=o(58919),gn=o(64292),mn=o(41728),n=o(85893),ln,tn,an,rn,fn=function(){var w=q()(I()().mark(function a(s,m){return I()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,m();case 2:s.res.code==401&&(0,C.BN)("notAllowed");case 3:case"end":return v.stop()}},a)}));return function(s,m){return w.apply(this,arguments)}}();mn.ZP.use(fn);var hn=function(){var a,s,m,c,v,f,t=(0,h.tT)("user"),g=(0,h.tT)("web"),r=(0,h.tT)("theme"),E=L.Z.useApp(),i=E.message,e=(0,W.kc)(function(D){var k=D.css,d=D.token,F=D.isDarkMode;return{img:{marginBottom:"5px"},nickname:{marginLeft:"3px",fontSize:"13px",color:F?d.colorTextSecondary:"rgb(150,150,150)",fontWeight:"bold"},bottomIconDark:{color:F?d.colorTextSecondary:"rgb(150,150,150)"},profile:k(ln||(ln=b()([`
                margin-left: 10px;
                margin-right: 20px;

                .anticon {
                    margin-left: 2px;
                    font-size: 10px;
                }
            `]))),pop:k(tn||(tn=b()([`
                display: initial;
                padding: 11px 5px;
                border-radius: 10px;
                transition: background-color 0.3s ease;
                cursor: pointer;
            `]))),box:k(an||(an=b()([`
                .ant-popover-inner {
                    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, .15) !important;
                    padding: 0 !important;
                }

                .ant-popover-arrow:before {
                    background-color: `,` !important;
                }

                .ant-popover-inner-content {
                    width: 210px;
                }
            `])),d==null?void 0:d.colorPrimary),content_top:k(rn||(rn=b()([`
                height: 70px;
                width: 100%;
                background-color: `,`;
                overflow: hidden;
                background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACGBAMAAAD0nt8RAAAAD1BMVEVHcEz///////////////8T4DEaAAAABXRSTlMADAYJA8T7L0gAAALASURBVGjezVpbcoMwDCS2DxBhDgC0BwhNDoDb3v9MfaQQMLb1cqfVVz6YjbS7ks2IptnFCOD7RhcDfIafVRgGvqPVJ/IZmoLcD4YqFbuAgAIkrCCKeqYaICsGnP8WxP0bkE05F71hK4EoWvC0YHh9EwN0v93Fr9frs3aefP/PjdA9Pfo3F8xuxRk74LlaTBpLaPOATaRA0A+lBPAB6rBUNy2KVXwmDOF8YwSs3g1Ij8zYVgPi0PYjlGOppJVATmi9BgcZUJDH1PKokzIamwdGVkGDPGEeB2S+jU9lT2/4KFASip4edxgtfpxDidJiIpvmOsoTYfQEI8UPmR3GOFJuOLHGe0o97YYT8fYKNE4jSnYP7mUpH2x292SW0vKtIyQlNAeM4pEzpTQ0E3BAXOpJA4mYqZTcCx+BCRKOOg5JDE+m5AskjVECcfGzJoNRsokFanRkSgpxJlNSiAudEgmIoYPM+AVWAzKQMTzlzUAOwqCkq0FJV8FqBa9NFWzCsBrt2BLbhEEJ1KDE16DE16Ckq0FJV4GSrNc4lGS9xqEk6zUOJVmvcSgB/UAq2GSqAWJq2IQxpQsgpsZcY4h89Jpbf0xSr5kngBeuaSOv3f/9xuQ2LUnP4tanFWlZqfiMID1nHnQZry/Kv/FB3PF9giTz9foyju/vc6Spl7TQHW5IqDaAPBphKhn/hBogbqoAwpv7WRNKue2kkzI/ZoSpzPIjtTWZ1+03BkgfzRPJKdQupmjlo98v1hoVp9AyiGbFKdRSN0Wy1x56C6FLJKsuhiYzYZtleL0iu2zQtoROXQwqM3nlMmmLQWRm7BkHfSJ5mXkL6aAuJiszd5FsBc1Lkpm/ATbqYpIyS1bRcSo35U5dseLfT0rpXt3qE6GtUTjcKj4SWFNRfcPh9Kvs9bLRN7qY1B+k/HCrTeSL24saozF4MR+gwScpYNNOxQAAAABJRU5ErkJggg==);
                background-repeat: no-repeat;
                background-position: right;
                border-top-left-radius: `,`px;
                border-top-right-radius: `,`px;
                line-height: 70px;
            `])),d==null?void 0:d.colorPrimary,d==null?void 0:d.borderRadius,d==null?void 0:d.borderRadius),ava:{height:"40px",width:"40px",marginLeft:"10px"},top_text:{color:"#fff",fontSize:"12px",letterSpacing:"1px",lineHeight:"100%",marginLeft:"8px",width:"auto","div:first-of-type":{fontSize:13,marginTop:18,marginBottom:10}},menu:{listStyle:"none",padding:0,margin:0,userSelect:"none","li:last-of-type":{borderTop:"0.5px solid rgba(189, 189, 189, 0.2)",borderRadius:"0px 0px 5px 5px",height:"45px",lineHeight:"45px"}},menuItem:{cursor:"pointer",letterSpacing:"1px",height:"40px",lineHeight:"40px",fontSize:"12px",padding:"0px 15px",transition:"background-color 0.3s ease",color:F?d.colorTextSecondary:"rgba(0,0,0,0.65)",display:"flex",justifyContent:"space-between",":hover":{backgroundColor:"rgba(0, 0, 0, 0.03)"},".anticon":{fontSize:"11px"},"div>.anticon":{fontSize:"12.5px",marginRight:"7px"}},icon:{fontSize:"17px",padding:"7px",marginRight:"5px",cursor:"pointer",borderRadius:"5px",transition:"background-color 0.3s ease",":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"},color:F?d.colorTextSecondary:"rgb(150,150,150)"}}}),Y=e(),x=Y.styles,G=x.img,J=x.nickname,V=x.bottomIconDark,Q=x.profile,H=x.pop,M=x.content_top,_=x.ava,X=x.top_text,U=x.box,u=x.menu,S=x.menuItem,z=x.icon;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(vn.Z,{title:r==null?void 0:r.getModeName(r==null?void 0:r.mode),children:(0,n.jsx)(j.JO,{type:r!=null&&r.isDarkMode()?A.LP:r!=null&&r.isAutoMode()?A.sb:A._k,className:z,onClick:function(){var k;r==null||(k=r.toggle)===null||k===void 0||k.call(r)}})}),(0,n.jsx)(cn.Z,{className:Q,rootClassName:U,autoAdjustOverflow:!1,placement:"bottomRight",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(pn.Z,{className:M,children:[(0,n.jsx)(on.Z,{span:6,children:(0,n.jsxs)(en.Z,{src:((p.Z===null||p.Z===void 0?void 0:p.Z.basePath)||"/")+"images/default_avatar.jpg",className:_,children:[" ",(t==null||(a=t.web)===null||a===void 0||(a=a.account)===null||a===void 0||(a=a.slice(0,1))===null||a===void 0?void 0:a.toUpperCase())||"\u672A\u8BBE\u7F6E"]})}),(0,n.jsxs)(on.Z,{span:16,className:X,children:[(0,n.jsx)("div",{children:(t==null||(s=t.web)===null||s===void 0?void 0:s.account)||"\u672A\u767B\u5F55"}),(0,n.jsx)("div",{children:(t==null||(m=t.web)===null||m===void 0?void 0:m.login_ip)||"\u672A\u767B\u5F55"})]})]}),(0,n.jsxs)("ul",{className:u,children:[(0,n.jsxs)("li",{className:S,onClick:function(){return(0,C.BN)("system")},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(j.JO,{type:A.l4,style:{fontSize:14}}),"\u7CFB\u7EDF\u7BA1\u7406"]}),(0,n.jsx)(j.JO,{type:A.O6})]}),(0,n.jsxs)("li",{className:S,onClick:function(){return(0,C.BN)("log")},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(j.JO,{type:A.Zb,style:{fontSize:14}}),"\u64CD\u4F5C\u65E5\u5FD7"]}),(0,n.jsx)(j.JO,{type:A.O6})]}),(0,n.jsxs)("li",{className:S,onClick:q()(I()().mark(function D(){return I()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i==null||i.loading({content:"\u6B63\u5728\u9000\u51FA\u767B\u5F55",duration:6e5,key:"outLogin"}),d.next=3,(0,gn.k)({onSuccess:function(y){(y==null?void 0:y.code)==200&&(i==null||i.success((y==null?void 0:y.message)||"\u9000\u51FA\u767B\u5F55\u6210\u529F"),(0,nn.mK)(),i==null||i.destroy("outLogin"),(0,C.BN)("login"))},onFail:function(y){(y==null?void 0:y.code)==500&&(i==null||i.error((y==null?void 0:y.message)||"\u9000\u51FA\u767B\u5F55\u5931\u8D25"))}});case 3:case"end":return d.stop()}},D)})),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(j.JO,{type:A.n$,style:{fontSize:14}}),"\u9000\u51FA\u767B\u5F55"]}),(0,n.jsx)(j.JO,{type:A.O6})]})]})]}),children:(0,n.jsxs)("div",{className:H,children:[(0,n.jsx)(en.Z,{className:G,src:((p.Z===null||p.Z===void 0?void 0:p.Z.basePath)||"/")+"images/default_avatar.jpg",children:(t==null||(c=t.web)===null||c===void 0||(c=c.account)===null||c===void 0||(c=c.slice(0,1))===null||c===void 0?void 0:c.toUpperCase())||"\u672A\u767B\u5F55"}),(0,n.jsx)("span",{className:J,children:(t==null||(v=t.web)===null||v===void 0?void 0:v.account)||"\u672A\u767B\u5F55"}),(0,n.jsx)(j.JO,{className:(g==null||(f=g.info)===null||f===void 0||(f=f.ui)===null||f===void 0?void 0:f.theme)=="dark"?V:"",type:A.z})]})})]})},xn=function(a){var s,m,c,v,f,t,g,r=Object.assign({},(T()(a),a)),E=r.menu,i=(0,h.tT)("user"),e=(0,h.tT)("web"),Y=(0,R.useState)(!0),x=O()(Y,2),G=x[0],J=x[1],V=function(){var u;if(J(!0),(0,nn.KU)()==""){(0,C.BN)("login");return}i==null||(u=i.getWebUser())===null||u===void 0||(u=u.then(function(S){i==null||i.setWeb(S)}))===null||u===void 0||u.finally(function(){J(!1)})};(0,R.useEffect)(function(){V()},[]);var Q=(0,W.kc)(function(){return{collapsedImg:{fontSize:"27px"},unCollapsed:{overflow:"hidden",position:"absolute",display:"inline-flex",">span":{fontSize:"27px"},">div":{fontSize:"25px",marginLeft:"5px",fontWeight:"bolder",float:"left",lineHeight:"30px",whiteSpace:"nowrap"}}}}),H=Q(),M=H.styles,_=M.collapsedImg,X=M.unCollapsed;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(B,{}),(0,n.jsx)(j.Ar,{loading:G,waterMark:e!=null&&(s=e.info)!==null&&s!==void 0&&(s=s.ui)!==null&&s!==void 0&&s.watermark?[e==null||(m=e.info)===null||m===void 0?void 0:m.name,i==null||(c=i.web)===null||c===void 0?void 0:c.account]:"",menus:E,layout:(e==null||(v=e.info)===null||v===void 0||(v=v.ui)===null||v===void 0?void 0:v.layout)!="left"?"horizontal":"inline",flowLayout:(e==null||(f=e.info)===null||f===void 0||(f=f.ui)===null||f===void 0?void 0:f.layout)!="left",menuTheme:(e==null||(t=e.info)===null||t===void 0||(t=t.ui)===null||t===void 0?void 0:t.theme)=="dark"?"dark":"light",footer:(0,n.jsxs)(n.Fragment,{children:["\xA9",new Date().getFullYear()," All Right Revered ",(e==null||(g=e.info)===null||g===void 0?void 0:g.name)||(p.Z===null||p.Z===void 0?void 0:p.Z.title)]}),headerHidden:!1,headerFixed:!1,headerRight:(0,n.jsx)(hn,{}),menuCollapsedWidth:60,menuUnCollapsedWidth:210,collapsedLogo:function(){var u;return(0,n.jsx)(j.JO,{type:A.TR,style:{color:(e==null||(u=e.info)===null||u===void 0||(u=u.ui)===null||u===void 0?void 0:u.color)||"rgb(0,81,235)"},className:_})},unCollapsedLogo:function(){var u,S,z;return(0,n.jsxs)("div",{className:X,children:[(0,n.jsx)(j.JO,{type:A.TR,style:{color:(e==null||(u=e.info)===null||u===void 0||(u=u.ui)===null||u===void 0?void 0:u.color)||"rgb(0,81,235)"}}),(0,n.jsx)("div",{style:{color:(e==null||(S=e.info)===null||S===void 0||(S=S.ui)===null||S===void 0?void 0:S.color)||"rgb(0,81,235)"},children:(e==null||(z=e.info)===null||z===void 0?void 0:z.name)||(p.Z===null||p.Z===void 0?void 0:p.Z.title)})]})}})]})},bn=xn,yn=(0,W.kc)(function(){return{load:{margin:"0 auto",width:"100%",lineHeight:"80vh"}}}),jn=function(){var w=(0,h.tT)("web"),a=(0,h.A4)(),s=yn(),m=s.styles.load,c=(0,R.useState)([]),v=O()(c,2),f=v[0],t=v[1];(0,R.useEffect)(function(){t((0,C.Mq)(!0))},[]);var g=function(){var E,i;return!(w!=null&&w.info)||!(w!=null&&(E=w.info)!==null&&E!==void 0&&E.ui)?(0,n.jsx)(Z.Z,{spinning:!0,size:"large",className:m}):(a==null||(i=a.pop())===null||i===void 0||(i=i.route)===null||i===void 0?void 0:i.auth)===!1?(0,n.jsxs)(j.Q2,{children:[(0,n.jsx)(B,{}),(0,n.jsx)(L.Z,{children:(0,n.jsx)(h.j3,{})})]}):(0,n.jsx)(bn,{menu:f})};return g()}},64292:function(sn,P,o){o.d(P,{k:function(){return p},x:function(){return C}});var $=o(15009),O=o.n($),R=o(99289),Z=o.n(R),L=o(41728);function C(){return h.apply(this,arguments)}function h(){return h=Z()(O()().mark(function B(){var l,T=arguments;return O()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return l=T.length>0&&T[0]!==void 0?T[0]:{},b.abrupt("return",(0,L.v_)("/auth/login",l==null?void 0:l.body,l==null?void 0:l.onSuccess,l==null?void 0:l.onFail,l==null?void 0:l.onFinally));case 2:case"end":return b.stop()}},B)})),h.apply(this,arguments)}function p(){return N.apply(this,arguments)}function N(){return N=Z()(O()().mark(function B(){var l,T=arguments;return O()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return l=T.length>0&&T[0]!==void 0?T[0]:{},b.abrupt("return",(0,L.U2)("/auth/logout",l==null?void 0:l.body,l==null?void 0:l.onSuccess,l==null?void 0:l.onFail,l==null?void 0:l.onFinally));case 2:case"end":return b.stop()}},B)})),N.apply(this,arguments)}}}]);
