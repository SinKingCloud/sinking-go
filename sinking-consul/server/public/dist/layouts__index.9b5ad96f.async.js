"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[717],{62141:function(rn,P,o){o.r(P),o.d(P,{default:function(){return An}});var $=o(5574),E=o.n($),B=o(67294),z=o(74330),L=o(36447),C=o(61067),f=o(82188),l=o(67610),N=function(){var s,u=(0,f.tT)("web"),g=(0,f.A4)(),c=(0,f.TH)(),v=function(){var a,p=g==null||(a=g.pop())===null||a===void 0?void 0:a.route;if(p&&p!==null&&p!==void 0&&p.title){var r;document.title=(p==null?void 0:p.title)+" - "+((u==null||(r=u.info)===null||r===void 0?void 0:r.name)||(l.Z===null||l.Z===void 0?void 0:l.Z.title))}};(0,B.useEffect)(function(){v()},[u==null||(s=u.info)===null||s===void 0?void 0:s.name,c])},R=N,i=o(49677),Z=o.n(i),K=o(68400),x=o.n(K),un=o(15009),I=o.n(un),dn=o(99289),q=o.n(dn),w=o(2193),nn=o(33633),vn=o(83062),cn=o(74627),pn=o(71230),on=o(15746),en=o(68997),W=o(93657),T=o(58919),gn=o(64292),mn=o(41728),n=o(85893),ln,tn,an,sn,fn=function(){var S=q()(I()().mark(function s(u,g){return I()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,g();case 2:u.res.code==401&&(0,C.BN)("notAllowed");case 3:case"end":return v.stop()}},s)}));return function(u,g){return S.apply(this,arguments)}}();mn.ZP.use(fn);var hn=function(){var s,u,g,c,v,m,a=(0,f.tT)("user"),p=(0,f.tT)("web"),r=(0,f.tT)("theme"),O=L.Z.useApp(),t=O.message,e=(0,W.kc)(function(y){var k=y.css,d=y.token,F=y.isDarkMode;return{img:{marginBottom:"5px"},nickname:{marginLeft:"3px",fontSize:"13px",color:F?d.colorTextSecondary:"rgb(150,150,150)",fontWeight:"bold"},bottomIconDark:{color:F?d.colorTextSecondary:"rgb(150,150,150)"},profile:k(ln||(ln=x()([`
                margin-left: 10px;
                margin-right: 20px;

                .anticon {
                    margin-left: 2px;
                    font-size: 10px;
                }
            `]))),pop:k(tn||(tn=x()([`
                display: initial;
                padding: 11px 5px;
                border-radius: 10px;
                transition: background-color 0.3s ease;
                cursor: pointer;
            `]))),box:k(an||(an=x()([`
                .ant-popover-inner {
                    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, .15) !important;
                    padding: 0 !important;
                }

                .ant-popover-arrow:before {
                    background-color: `,` !important;
                }

                .ant-popover-inner-content {
                    width: 210px;
                }
            `])),d==null?void 0:d.colorPrimary),content_top:k(sn||(sn=x()([`
                height: 70px;
                width: 100%;
                background-color: `,`;
                overflow: hidden;
                background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACGBAMAAAD0nt8RAAAAD1BMVEVHcEz///////////////8T4DEaAAAABXRSTlMADAYJA8T7L0gAAALASURBVGjezVpbcoMwDCS2DxBhDgC0BwhNDoDb3v9MfaQQMLb1cqfVVz6YjbS7ks2IptnFCOD7RhcDfIafVRgGvqPVJ/IZmoLcD4YqFbuAgAIkrCCKeqYaICsGnP8WxP0bkE05F71hK4EoWvC0YHh9EwN0v93Fr9frs3aefP/PjdA9Pfo3F8xuxRk74LlaTBpLaPOATaRA0A+lBPAB6rBUNy2KVXwmDOF8YwSs3g1Ij8zYVgPi0PYjlGOppJVATmi9BgcZUJDH1PKokzIamwdGVkGDPGEeB2S+jU9lT2/4KFASip4edxgtfpxDidJiIpvmOsoTYfQEI8UPmR3GOFJuOLHGe0o97YYT8fYKNE4jSnYP7mUpH2x292SW0vKtIyQlNAeM4pEzpTQ0E3BAXOpJA4mYqZTcCx+BCRKOOg5JDE+m5AskjVECcfGzJoNRsokFanRkSgpxJlNSiAudEgmIoYPM+AVWAzKQMTzlzUAOwqCkq0FJV8FqBa9NFWzCsBrt2BLbhEEJ1KDE16DE16Ckq0FJV4GSrNc4lGS9xqEk6zUOJVmvcSgB/UAq2GSqAWJq2IQxpQsgpsZcY4h89Jpbf0xSr5kngBeuaSOv3f/9xuQ2LUnP4tanFWlZqfiMID1nHnQZry/Kv/FB3PF9giTz9foyju/vc6Spl7TQHW5IqDaAPBphKhn/hBogbqoAwpv7WRNKue2kkzI/ZoSpzPIjtTWZ1+03BkgfzRPJKdQupmjlo98v1hoVp9AyiGbFKdRSN0Wy1x56C6FLJKsuhiYzYZtleL0iu2zQtoROXQwqM3nlMmmLQWRm7BkHfSJ5mXkL6aAuJiszd5FsBc1Lkpm/ATbqYpIyS1bRcSo35U5dseLfT0rpXt3qE6GtUTjcKj4SWFNRfcPh9Kvs9bLRN7qY1B+k/HCrTeSL24saozF4MR+gwScpYNNOxQAAAABJRU5ErkJggg==);
                background-repeat: no-repeat;
                background-position: right;
                border-top-left-radius: `,`px;
                border-top-right-radius: `,`px;
                line-height: 70px;
            `])),d==null?void 0:d.colorPrimary,d==null?void 0:d.borderRadius,d==null?void 0:d.borderRadius),ava:{height:"40px",width:"40px",marginLeft:"10px"},top_text:{color:"#fff",fontSize:"12px",letterSpacing:"1px",lineHeight:"100%",marginLeft:"8px",width:"auto","div:first-of-type":{fontSize:13,marginTop:18,marginBottom:10}},menu:{listStyle:"none",padding:0,margin:0,userSelect:"none","li:last-of-type":{borderTop:"0.5px solid rgba(189, 189, 189, 0.2)",borderRadius:"0px 0px 5px 5px",height:"45px",lineHeight:"45px"}},menuItem:{cursor:"pointer",letterSpacing:"1px",height:"40px",lineHeight:"40px",fontSize:"12px",padding:"0px 15px",transition:"background-color 0.3s ease",color:F?d.colorTextSecondary:"rgba(0,0,0,0.65)",display:"flex",justifyContent:"space-between",":hover":{backgroundColor:"rgba(0, 0, 0, 0.03)"},".anticon":{fontSize:"11px"},"div>.anticon":{fontSize:"12.5px",marginRight:"7px"}},icon:{fontSize:"17px",padding:"7px",marginRight:"5px",cursor:"pointer",borderRadius:"5px",transition:"background-color 0.3s ease",":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"},color:F?d.colorTextSecondary:"rgb(150,150,150)"}}}),Y=e(),h=Y.styles,G=h.img,M=h.nickname,V=h.bottomIconDark,Q=h.profile,H=h.pop,J=h.content_top,_=h.ava,X=h.top_text,U=h.box,j=h.menu,A=h.menuItem,D=h.icon;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(vn.Z,{title:r==null?void 0:r.getModeName(r==null?void 0:r.mode),children:(0,n.jsx)(w.JO,{type:r!=null&&r.isDarkMode()?T.LP:r!=null&&r.isAutoMode()?T.sb:T._k,className:D,onClick:function(){var k;r==null||(k=r.toggle)===null||k===void 0||k.call(r)}})}),(0,n.jsx)(cn.Z,{className:Q,rootClassName:U,autoAdjustOverflow:!1,placement:"bottomRight",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(pn.Z,{className:J,children:[(0,n.jsx)(on.Z,{span:6,children:(0,n.jsxs)(en.Z,{src:((l.Z===null||l.Z===void 0?void 0:l.Z.basePath)||"/")+"images/default_avatar.jpg",className:_,children:[" ",(a==null||(s=a.web)===null||s===void 0||(s=s.account)===null||s===void 0||(s=s.slice(0,1))===null||s===void 0?void 0:s.toUpperCase())||"\u672A\u8BBE\u7F6E"]})}),(0,n.jsxs)(on.Z,{span:16,className:X,children:[(0,n.jsx)("div",{children:(a==null||(u=a.web)===null||u===void 0?void 0:u.account)||"\u672A\u767B\u5F55"}),(0,n.jsx)("div",{children:(a==null||(g=a.web)===null||g===void 0?void 0:g.login_ip)||"\u672A\u767B\u5F55"})]})]}),(0,n.jsxs)("ul",{className:j,children:[(0,n.jsxs)("li",{className:A,onClick:function(){return(0,C.BN)("system")},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(w.JO,{type:T.l4,style:{fontSize:14}}),"\u7CFB\u7EDF\u7BA1\u7406"]}),(0,n.jsx)(w.JO,{type:T.O6})]}),(0,n.jsxs)("li",{className:A,onClick:function(){return(0,C.BN)("log")},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(w.JO,{type:T.Zb,style:{fontSize:14}}),"\u64CD\u4F5C\u65E5\u5FD7"]}),(0,n.jsx)(w.JO,{type:T.O6})]}),(0,n.jsxs)("li",{className:A,onClick:q()(I()().mark(function y(){return I()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return t==null||t.loading({content:"\u6B63\u5728\u9000\u51FA\u767B\u5F55",duration:6e5,key:"outLogin"}),d.next=3,(0,gn.k)({onSuccess:function(b){(b==null?void 0:b.code)==200&&(t==null||t.success((b==null?void 0:b.message)||"\u9000\u51FA\u767B\u5F55\u6210\u529F"),(0,nn.mK)(),t==null||t.destroy("outLogin"),(0,C.BN)("login"))},onFail:function(b){(b==null?void 0:b.code)==500&&(t==null||t.error((b==null?void 0:b.message)||"\u9000\u51FA\u767B\u5F55\u5931\u8D25"))}});case 3:case"end":return d.stop()}},y)})),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(w.JO,{type:T.n$,style:{fontSize:14}}),"\u9000\u51FA\u767B\u5F55"]}),(0,n.jsx)(w.JO,{type:T.O6})]})]})]}),children:(0,n.jsxs)("div",{className:H,children:[(0,n.jsx)(en.Z,{className:G,src:((l.Z===null||l.Z===void 0?void 0:l.Z.basePath)||"/")+"images/default_avatar.jpg",children:(a==null||(c=a.web)===null||c===void 0||(c=c.account)===null||c===void 0||(c=c.slice(0,1))===null||c===void 0?void 0:c.toUpperCase())||"\u672A\u767B\u5F55"}),(0,n.jsx)("span",{className:M,children:(a==null||(v=a.web)===null||v===void 0?void 0:v.account)||"\u672A\u767B\u5F55"}),(0,n.jsx)(w.JO,{className:(p==null||(m=p.info)===null||m===void 0||(m=m.ui)===null||m===void 0?void 0:m.theme)=="dark"?V:"",type:T.z})]})})]})},xn=function(s){var u,g,c,v,m,a,p,r=Object.assign({},(Z()(s),s)),O=r.menu,t=(0,f.tT)("user"),e=(0,f.tT)("web"),Y=(0,B.useState)(!0),h=E()(Y,2),G=h[0],M=h[1],V=function(){var j;if(M(!0),(0,nn.KU)()==""){(0,C.BN)("login");return}t==null||(j=t.getWebUser())===null||j===void 0||(j=j.then(function(A){t==null||t.setWeb(A)}))===null||j===void 0||j.finally(function(){M(!1)})};(0,B.useEffect)(function(){V()},[]);var Q=(0,W.kc)(function(){return{collapsedImg:{width:"35px"},unCollapsed:{overflow:"hidden",position:"absolute",display:"inline-flex",">img":{width:"35px",float:"left"},">div":{fontSize:"25px",marginLeft:"5px",fontWeight:"bolder",float:"left",lineHeight:"30px",whiteSpace:"nowrap"}}}}),H=Q(),J=H.styles,_=J.collapsedImg,X=J.unCollapsed;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R,{}),(0,n.jsx)(w.Ar,{loading:G,waterMark:e!=null&&(u=e.info)!==null&&u!==void 0&&(u=u.ui)!==null&&u!==void 0&&u.watermark?[e==null||(g=e.info)===null||g===void 0?void 0:g.name,t==null||(c=t.web)===null||c===void 0?void 0:c.account]:"",menus:O,layout:(e==null||(v=e.info)===null||v===void 0||(v=v.ui)===null||v===void 0?void 0:v.layout)!="left"?"horizontal":"inline",flowLayout:(e==null||(m=e.info)===null||m===void 0||(m=m.ui)===null||m===void 0?void 0:m.layout)!="left",menuTheme:(e==null||(a=e.info)===null||a===void 0||(a=a.ui)===null||a===void 0?void 0:a.theme)=="dark"?"dark":"light",footer:(0,n.jsxs)(n.Fragment,{children:["\xA9",new Date().getFullYear()," All Right Revered ",(e==null||(p=e.info)===null||p===void 0?void 0:p.name)||(l.Z===null||l.Z===void 0?void 0:l.Z.title)]}),headerHidden:!1,headerFixed:!1,headerRight:(0,n.jsx)(hn,{}),menuCollapsedWidth:60,menuUnCollapsedWidth:210,collapsedLogo:function(){return(0,n.jsx)("img",{src:((l.Z===null||l.Z===void 0?void 0:l.Z.basePath)||"/")+"logo.svg",alt:l.Z===null||l.Z===void 0?void 0:l.Z.title,className:_})},unCollapsedLogo:function(){var j,A,D,y;return(0,n.jsxs)("div",{className:X,children:[(0,n.jsx)("img",{src:((l.Z===null||l.Z===void 0?void 0:l.Z.basePath)||"/")+"logo.svg",alt:(e==null||(j=e.info)===null||j===void 0?void 0:j.name)||(l.Z===null||l.Z===void 0?void 0:l.Z.title)}),(0,n.jsx)("div",{style:{color:e!=null&&(A=e.info)!==null&&A!==void 0&&(A=A.ui)!==null&&A!==void 0&&A.color?e==null||(D=e.info)===null||D===void 0||(D=D.ui)===null||D===void 0?void 0:D.color:"rgb(0,81,235)"},children:(e==null||(y=e.info)===null||y===void 0?void 0:y.name)||(l.Z===null||l.Z===void 0?void 0:l.Z.title)})]})}})]})},bn=xn,jn=(0,W.kc)(function(){return{load:{margin:"0 auto",width:"100%",lineHeight:"80vh"}}}),An=function(){var S=(0,f.tT)("web"),s=(0,f.A4)(),u=jn(),g=u.styles.load,c=(0,B.useState)([]),v=E()(c,2),m=v[0],a=v[1];(0,B.useEffect)(function(){a((0,C.Mq)(!0))},[]);var p=function(){var O,t;return!(S!=null&&S.info)||!(S!=null&&(O=S.info)!==null&&O!==void 0&&O.ui)?(0,n.jsx)(z.Z,{spinning:!0,size:"large",className:g}):(s==null||(t=s.pop())===null||t===void 0||(t=t.route)===null||t===void 0?void 0:t.auth)===!1?(0,n.jsxs)(w.Q2,{children:[(0,n.jsx)(R,{}),(0,n.jsx)(L.Z,{children:(0,n.jsx)(f.j3,{})})]}):(0,n.jsx)(bn,{menu:m})};return p()}},64292:function(rn,P,o){o.d(P,{k:function(){return l},x:function(){return C}});var $=o(15009),E=o.n($),B=o(99289),z=o.n(B),L=o(41728);function C(){return f.apply(this,arguments)}function f(){return f=z()(E()().mark(function R(){var i,Z=arguments;return E()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return i=Z.length>0&&Z[0]!==void 0?Z[0]:{},x.abrupt("return",(0,L.v_)("/auth/login",i==null?void 0:i.body,i==null?void 0:i.onSuccess,i==null?void 0:i.onFail,i==null?void 0:i.onFinally));case 2:case"end":return x.stop()}},R)})),f.apply(this,arguments)}function l(){return N.apply(this,arguments)}function N(){return N=z()(E()().mark(function R(){var i,Z=arguments;return E()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return i=Z.length>0&&Z[0]!==void 0?Z[0]:{},x.abrupt("return",(0,L.U2)("/auth/logout",i==null?void 0:i.body,i==null?void 0:i.onSuccess,i==null?void 0:i.onFail,i==null?void 0:i.onFinally));case 2:case"end":return x.stop()}},R)})),N.apply(this,arguments)}}}]);
