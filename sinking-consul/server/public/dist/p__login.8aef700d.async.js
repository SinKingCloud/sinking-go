"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[179],{45352:function(sn,P,n){n.r(P),n.d(P,{default:function(){return Fn}});var N=n(15009),s=n.n(N),Z=n(99289),j=n.n(Z),W=n(5574),B=n.n(W),U=n(68400),K=n.n(U),C=n(87547),z=n(94149),a=n(36447),y=n(59586),O=n(18735),S=n(80178),w=n(67294),J=n(44194),c=n(82188),o=n(64292),v=n(33633),e=n(85576),r=n(74330),F=n(23940),I=n(41728);function M(){return R.apply(this,arguments)}function R(){return R=j()(s()().mark(function d(){var t,l=arguments;return s()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return t=l.length>0&&l[0]!==void 0?l[0]:{},m.abrupt("return",(0,I.U2)("/auth/captcha",t==null?void 0:t.body,t==null?void 0:t.onSuccess,t==null?void 0:t.onFail,t==null?void 0:t.onFinally));case 2:case"end":return m.stop()}},d)})),R.apply(this,arguments)}function b(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,t="abcdefghijklmnopqrstuvwxyz";t+=t.toUpperCase(),t+="0123456789";for(var l="",g=0;g<d;g++){var m=Math.floor(Math.random()*t.length);l+=t[m]}return l}function an(d){var t={};if(!d)return t;var l=/(?:\?|&)(?:(?:([^=&]+?)=([^&#]+))|([^&#]+))/gi,g={},m=function(rn,q){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",Y=arguments.length>3?arguments[3]:void 0;Y?g[Y]="":g[q]=encodeURIComponent(V)};return d.replace(l,m),g}function Mn(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";d==""&&(d=window.location.href);var t=decodeURI(d).indexOf("?");return t<0?"":d.substring(t+1)}var mn=n(45444),u=n(85893),yn=(0,mn.kc)(function(d){var t=d.isDarkMode,l=d.token;return{modal:{".ant-modal":{width:"326px !important"},".ant-modal-container":{padding:"0 !important",backgroundColor:"transparent !important",boxShadow:"none !important"},".ant-modal-body> div":t?{"--go-captcha-theme-text-color":"#8f94a7 !important","--go-captcha-theme-bg-color":"#18181a !important","--go-captcha-theme-btn-color":"#ffffff !important","--go-captcha-theme-btn-bg-color":"#4e87ff !important","--go-captcha-theme-btn-border-color":"#4e87ff !important","--go-captcha-theme-active-color":"#3e7cff !important","--go-captcha-theme-border-color":"#3c3f44 !important","--go-captcha-theme-icon-color":"#696d7b !important","--go-captcha-theme-drag-bar-color":"#3c3f44 !important","--go-captcha-theme-drag-bg-color":"#3e7cff !important","--go-captcha-theme-drag-icon-color":"#ffffff !important","--go-captcha-theme-round-color":"#3c3f44 !important","--go-captcha-theme-loading-icon-color":"#3e7cff !important","--go-captcha-theme-body-bg-color":"#34383e !important","--go-captcha-theme-dot-color":"#cedffe !important","--go-captcha-theme-dot-bg-color":"#3e7cff !important","--go-captcha-theme-dot-border-color":"#f7f9fb !important"}:{"--go-captcha-theme-btn-color":(l==null?void 0:l.colorPrimary)+" !important","--go-captcha-theme-btn-bg-color":(l==null?void 0:l.colorPrimary)+" !important","--go-captcha-theme-drag-bg-color":(l==null?void 0:l.colorPrimary)+" !important"}}}}),bn=(0,w.forwardRef)(function(d,t){var l=yn(),g=l.styles,m=a.Z.useApp(),_=m.message,rn=(0,w.useRef)(null),q=(0,w.useState)(!1),V=B()(q,2),Y=V[0],on=V[1],cn=(0,w.useState)(!0),ln=B()(cn,2),x=ln[0],$=ln[1],dn=(0,w.useState)(null),nn=B()(dn,2),i=nn[0],en=nn[1],tn=(0,w.useRef)(""),Q=(0,w.useRef)(null),X=(0,w.useRef)(null),D=function(){on(!1),en(null),$(!0),X.current&&X.current(),Q.current=null,X.current=null},A=function(){var L=j()(s()().mark(function h(){return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,$(!0),tn.current=b(16),p.next=5,M({body:{token:tn.current},onSuccess:function(k){var f=k==null?void 0:k.data;f&&en({key:f.key,image:f.image_base64,thumb:f.tile_base64,thumbWidth:f.tile_width,thumbHeight:f.tile_height,tileX:f.tile_x,tileY:f.tile_y,width:f.width,height:f.height})},onFail:function(k){_.error((k==null?void 0:k.message)||"\u9A8C\u8BC1\u7801\u52A0\u8F7D\u5931\u8D25"),D()},onFinally:function(){$(!1)}});case 5:p.next=12;break;case 7:p.prev=7,p.t0=p.catch(0),_.error("\u9A8C\u8BC1\u7801\u52A0\u8F7D\u5931\u8D25"),$(!1),D();case 12:case"end":return p.stop()}},h,null,[[0,7]])}));return function(){return L.apply(this,arguments)}}(),hn=function(){var L=j()(s()().mark(function h(E,p){return s()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return Q.current=E||null,X.current=p||null,on(!0),k.next=5,A();case 5:case"end":return k.stop()}},h)}));return function(E,p){return L.apply(this,arguments)}}();return(0,w.useImperativeHandle)(t,function(){return{Show:hn}}),(0,u.jsx)(e.Z,{open:Y,destroyOnHidden:!0,onCancel:D,footer:null,closable:!1,maskClosable:!1,keyboard:!1,rootClassName:g==null?void 0:g.modal,children:(0,u.jsx)(r.Z,{spinning:x,size:"large",children:(0,u.jsx)(F.Z.Slide,{ref:rn,data:{image:(i==null?void 0:i.image)||"",thumb:(i==null?void 0:i.thumb)||"",thumbX:0,thumbY:(i==null?void 0:i.tileY)||0,thumbWidth:(i==null?void 0:i.thumbWidth)||0,thumbHeight:(i==null?void 0:i.thumbHeight)||0},config:{width:i==null?void 0:i.width,height:i==null?void 0:i.height,scope:!0},events:{confirm:function(h){var E={token:tn.current,x:(h==null?void 0:h.x)||0,y:(h==null?void 0:h.y)||0};Q.current&&Q.current(E),D()},refresh:A,close:D}})})})}),xn=bn,G=n(67610),jn=n(61067),fn,Sn=(0,mn.kc)(function(d){var t=d.css,l=d.responsive,g=d.token;return{container:{display:"flex",flexDirection:"column",height:"100vh",backgroundImage:"url('https://gw.alipayobjects.com/zos/rmsportal/TVYTbAXWheQpRcWDaDMu.svg')",backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"},content:{flex:1,padding:"120px 0 32px 0"},main:t(fn||(fn=K()([`
            width: 328px;
            margin: 0 auto;

            `,` {
                width: 95%;
                max-width: 300px;
            }
        `])),l.md),top:{textAlign:"center"},header:{height:40,lineHeight:"40px",a:{textDecoration:"none"},span:{fontSize:"30px",fontWeight:"bolder"}},logo:{height:40,marginRight:16,verticalAlign:"top",fontSize:27,color:g==null?void 0:g.colorPrimary},desc:{marginTop:12,marginBottom:20,color:"@text-color-secondary",fontSize:14}}}),wn=function(){var t,l,g=Sn(),m=g.styles,_=m.container,rn=m.content,q=m.top,V=m.header,Y=m.logo,on=m.desc,cn=m.main,ln=a.Z.useApp(),x=ln.message,$=(0,w.useRef)({}),dn=(0,w.useState)(!1),nn=B()(dn,2),i=nn[0],en=nn[1],tn=y.Z.useForm(),Q=B()(tn,1),X=Q[0],D=(0,c.tT)("user"),A=(0,c.tT)("web");return(0,u.jsx)(J.uT,{children:(0,u.jsxs)("div",{className:_,children:[(0,u.jsx)(xn,{ref:$}),(0,u.jsxs)("div",{className:rn,children:[(0,u.jsxs)("div",{className:q,children:[(0,u.jsxs)("div",{className:V,children:[(0,u.jsx)(J.JO,{type:"icon-logo",className:Y}),(0,u.jsx)("span",{children:(A==null||(t=A.info)===null||t===void 0?void 0:t.name)||(G.Z===null||G.Z===void 0?void 0:G.Z.title)})]}),(0,u.jsxs)("div",{className:on,children:[(A==null||(l=A.info)===null||l===void 0?void 0:l.name)||(G.Z===null||G.Z===void 0?void 0:G.Z.title),"\u6B22\u8FCE\u60A8\u7684\u4F7F\u7528"]})]}),(0,u.jsx)("div",{className:cn,children:(0,u.jsxs)(y.Z,{form:X,size:"large",onFinish:function(){var hn=j()(s()().mark(function L(h){var E,p,H;return s()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(h.account==null||h.account.length<3)){f.next=3;break}return x==null||x.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u8D26\u6237"),f.abrupt("return");case 3:if(!(h.password==null||((E=h.password)===null||E===void 0?void 0:E.length)<4)){f.next=6;break}return x==null||x.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801"),f.abrupt("return");case 6:$==null||(p=$.current)===null||p===void 0||(H=p.Show)===null||H===void 0||H.call(p,function(){var In=j()(s()().mark(function gn(vn){return s()().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:return en(!0),un.next=3,(0,o.x)({body:{account:h.account,password:h.password,token:vn.token,captcha_x:vn.x,captcha_y:vn.y},onSuccess:function(T){(0,v.EV)(T==null?void 0:T.data),D==null||D.refreshWebUser(function(){x==null||x.success(T==null?void 0:T.message),(0,jn.BN)("/")})},onFail:function(T){x==null||x.error((T==null?void 0:T.message)||"\u767B\u5F55\u5931\u8D25")},onFinally:function(){en(!1)}});case 3:case"end":return un.stop()}},gn)}));return function(gn){return In.apply(this,arguments)}}());case 7:case"end":return f.stop()}},L)}));return function(L){return hn.apply(this,arguments)}}(),children:[(0,u.jsx)(y.Z.Item,{name:"account",children:(0,u.jsx)(O.Z,{prefix:(0,u.jsx)(C.Z,{className:"site-form-item-icon"}),placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237",size:"large"})}),(0,u.jsx)(y.Z.Item,{name:"password",children:(0,u.jsx)(O.Z,{type:"password",prefix:(0,u.jsx)(z.Z,{className:"site-form-item-icon"}),size:"large",placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237\u5BC6\u7801"})}),(0,u.jsx)(y.Z.Item,{children:(0,u.jsx)(S.ZP,{type:"primary",loading:i,htmlType:"submit",size:"large",block:!0,children:"\u767B \u5F55"})})]})})]})]})})},Fn=wn},64292:function(sn,P,n){n.d(P,{k:function(){return K},x:function(){return B}});var N=n(15009),s=n.n(N),Z=n(99289),j=n.n(Z),W=n(41728);function B(){return U.apply(this,arguments)}function U(){return U=j()(s()().mark(function z(){var a,y=arguments;return s()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return a=y.length>0&&y[0]!==void 0?y[0]:{},S.abrupt("return",(0,W.v_)("/auth/login",a==null?void 0:a.body,a==null?void 0:a.onSuccess,a==null?void 0:a.onFail,a==null?void 0:a.onFinally));case 2:case"end":return S.stop()}},z)})),U.apply(this,arguments)}function K(){return C.apply(this,arguments)}function C(){return C=j()(s()().mark(function z(){var a,y=arguments;return s()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return a=y.length>0&&y[0]!==void 0?y[0]:{},S.abrupt("return",(0,W.U2)("/auth/logout",a==null?void 0:a.body,a==null?void 0:a.onSuccess,a==null?void 0:a.onFail,a==null?void 0:a.onFinally));case 2:case"end":return S.stop()}},z)})),C.apply(this,arguments)}},33633:function(sn,P,n){n.d(P,{EV:function(){return N},mK:function(){return Z},wU:function(){return j}});function N(W){localStorage.setItem("token",W)}function s(){return localStorage.getItem("token")}function Z(){localStorage.removeItem("token")}function j(){return{token:s()}}},61067:function(sn,P,n){n.d(P,{Mq:function(){return w},mw:function(){return J},SE:function(){return S},BN:function(){return a}});var N=n(64599),s=n.n(N),Z=n(82188),j=[{path:"/",title:"\u6570\u636E\u6982\u89C8",name:"index",icon:"icon-home",hideInMenu:!1,hideBreadCrumb:!0,component:"@/pages/index"},{path:"cluster",title:"\u96C6\u7FA4\u5217\u8868",name:"cluster",icon:"icon-cluster",hideInMenu:!1,component:"@/pages/cluster"},{path:"node",title:"\u670D\u52A1\u8282\u70B9",name:"node",icon:"icon-node",hideInMenu:!1,component:"@/pages/node"},{path:"config",title:"\u914D\u7F6E\u7BA1\u7406",name:"config",icon:"icon-config",hideInMenu:!1,component:"@/pages/config"},{path:"log",title:"\u64CD\u4F5C\u65E5\u5FD7",name:"log",icon:"icon-log-blue",hideInMenu:!1,component:"@/pages/log"},{path:"system",title:"\u7CFB\u7EDF\u7BA1\u7406",name:"system",icon:"icon-setting",hideInMenu:!1,component:"@/pages/system"},{path:"login",component:"@/pages/login",name:"login",title:"\u5E10\u53F7\u767B\u5F55",auth:!1,hideInMenu:!0},{path:"500",component:"@/pages/500.tsx",name:"error",title:"\u670D\u52A1\u5668\u9519\u8BEF",auth:!1,hideInMenu:!0},{path:"403",component:"@/pages/403.tsx",name:"notAllowed",title:"\u65E0\u6743\u9650",auth:!1,hideInMenu:!0},{path:"*",component:"@/pages/404.tsx",name:"notFound",title:"\u9875\u9762\u4E0D\u5B58\u5728",auth:!1,hideInMenu:!0}],W=n(44194),B=n(67294),U=n(85893);function K(c,o){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",r=s()(c),F;try{for(r.s();!(F=r.n()).done;){var I=F.value,M=e+(e&&!e.endsWith("/")?"/":"")+(I.path.startsWith("/")?I.path.slice(1):I.path);if(v&&Object.keys(v).length>0)for(var R in v)I.path.includes(":".concat(R))&&(M=M.replace(":".concat(R),v[R]));if(I.name===o)return M.startsWith("/")?M:"/".concat(M);if(I.routes){var b=K(I.routes,o,v,M);if(b)return b}}}catch(an){r.e(an)}finally{r.f()}return null}var C={};function z(c){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(o).length<=0&&(C==null?void 0:C[c])!=null||(C[c]=K(j,c,o,"")),C[c]}function a(c){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z.m8===null||Z.m8===void 0||Z.m8.push(z(c,o)||"/")}function y(c){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"/",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return c.map(function(e){if(!(v&&e!==null&&e!==void 0&&e.hideInMenu)){var r={label:e==null?void 0:e.title,path:e==null?void 0:e.path,name:e==null?void 0:e.name};if(e!=null&&e.icon&&(r.icon=(0,U.jsx)(W.JO,{type:e==null?void 0:e.icon})),o!="/"&&!e.path.startsWith("/")?r.key="".concat(o,"/").concat(e.path):o=="/"&&e.path!="/"?r.key="/".concat(e.path):r.key="".concat(e.path),e!=null&&e.routes){var F=y(e==null?void 0:e.routes,r.key,v);F.length>0&&(r.children=F)}return r}})}var O={};function S(c,o){if(o&&Object.keys(o).length<=0&&(O==null?void 0:O[o])!=null)return O[o];var v=[];function e(r,F){var I;if(r!=null&&r.children&&(r==null||(I=r.children)===null||I===void 0?void 0:I.length)>0){if((r==null?void 0:r.name)===F)return v.push(r),!0}else{var M=s()(r),R;try{for(M.s();!(R=M.n()).done;){var b=R.value;if((b==null?void 0:b.name)===F||b!=null&&b.children&&e(b==null?void 0:b.children,F))return v.push(b),!0}}catch(an){M.e(an)}finally{M.f()}}return!1}return e(c,o),O[o]=v.reverse(),O[o]}function w(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return y(j,"/",c)}function J(c){var o=s()(c),v;try{for(o.s();!(v=o.n()).done;){var e=v.value;if(e.hasOwnProperty("children")){var r=J(e.children);if(r!==null)return r}else return e}}catch(F){o.e(F)}finally{o.f()}return null}}}]);
