"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[717],{62141:function(an,B,e){e.r(B),e.d(B,{default:function(){return jn}});var U=e(5574),R=e.n(U),k=e(67294),L=e(74330),O=e(36447),T=e(61067),f=e(82188),s=e(67610),Z=function(){var a,o=(0,f.tT)("web"),v=(0,f.A4)(),p=(0,f.TH)(),c=function(){var r,g=v==null||(r=v.pop())===null||r===void 0?void 0:r.route;if(g&&g!==null&&g!==void 0&&g.title){var u;document.title=(g==null?void 0:g.title)+" - "+((o==null||(u=o.info)===null||u===void 0?void 0:u.name)||(s.Z===null||s.Z===void 0?void 0:s.Z.title))}};(0,k.useEffect)(function(){c()},[o==null||(a=o.info)===null||a===void 0?void 0:a.name,p])},D=Z,i=e(49677),w=e.n(i),$=e(68400),x=e.n($),rn=e(15009),F=e.n(rn),sn=e(99289),_=e.n(sn),j=e(55404),X=e(33633),un=e(83062),dn=e(74627),vn=e(71230),q=e(15746),nn=e(68997),W=e(93657),A=e(58919),cn=e(64292),pn=e(41728),n=e(85893),on,en,ln,tn,gn=function(){var h=_()(F()().mark(function a(o,v){return F()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,v();case 2:o.res.code==401&&(0,T.BN)("notAllowed");case 3:case"end":return c.stop()}},a)}));return function(o,v){return h.apply(this,arguments)}}();pn.ZP.use(gn);var mn=(0,W.kc)(function(h){var a=h.css,o=h.token,v=h.isDarkMode;return{img:{marginBottom:"5px"},nickname:{marginLeft:"3px",fontSize:"13px",color:v?o.colorTextSecondary:"rgb(150,150,150)",fontWeight:"bold"},bottomIconDark:{color:v?o.colorTextSecondary:"rgb(150,150,150)"},profile:a(on||(on=x()([`
            margin-left: 10px;
            margin-right: 20px;

            .anticon {
                margin-left: 2px;
                font-size: 10px;
            }
        `]))),pop:a(en||(en=x()([`
            display: initial;
            padding: 11px 5px;
            transition: background-color 0.3s ease;
            cursor: pointer;
        `]))),box:a(ln||(ln=x()([`
            .ant-popover-inner {
                box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.15) !important;
                padding: 0 !important;
            }

            .ant-popover-arrow:before {
                background-color: `,` !important;
            }

            .ant-popover-inner-content {
                width: 210px;
            }
        `])),o==null?void 0:o.colorPrimary),content_top:a(tn||(tn=x()([`
            height: 70px;
            width: 100%;
            background-color: `,`;
            overflow: hidden;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACGBAMAAAD0nt8RAAAAD1BMVEVHcEz///////////////8T4DEaAAAABXRSTlMADAYJA8T7L0gAAALASURBVGjezVpbcoMwDCS2DxBhDgC0BwhNDoDb3v9MfaQQMLb1cqfVVz6YjbS7ks2IptnFCOD7RhcDfIafVRgGvqPVJ/IZmoLcD4YqFbuAgAIkrCCKeqYaICsGnP8WxP0bkE05F71hK4EoWvC0YHh9EwN0v93Fr9frs3aefP/PjdA9Pfo3F8xuxRk74LlaTBpLaPOATaRA0A+lBPAB6rBUNy2KVXwmDOF8YwSs3g1Ij8zYVgPi0PYjlGOppJVATmi9BgcZUJDH1PKokzIamwdGVkGDPGEeB2S+jU9lT2/4KFASip4edxgtfpxDidJiIpvmOsoTYfQEI8UPmR3GOFJuOLHGe0o97YYT8fYKNE4jSnYP7mUpH2x292SW0vKtIyQlNAeM4pEzpTQ0E3BAXOpJA4mYqZTcCx+BCRKOOg5JDE+m5AskjVECcfGzJoNRsokFanRkSgpxJlNSiAudEgmIoYPM+AVWAzKQMTzlzUAOwqCkq0FJV8FqBa9NFWzCsBrt2BLbhEEJ1KDE16DE16Ckq0FJV4GSrNc4lGS9xqEk6zUOJVmvcSgB/UAq2GSqAWJq2IQxpQsgpsZcY4h89Jpbf0xSr5kngBeuaSOv3f/9xuQ2LUnP4tanFWlZqfiMID1nHnQZry/Kv/FB3PF9giTz9foyju/vc6Spl7TQHW5IqDaAPBphKhn/hBogbqoAwpv7WRNKue2kkzI/ZoSpzPIjtTWZ1+03BkgfzRPJKdQupmjlo98v1hoVp9AyiGbFKdRSN0Wy1x56C6FLJKsuhiYzYZtleL0iu2zQtoROXQwqM3nlMmmLQWRm7BkHfSJ5mXkL6aAuJiszd5FsBc1Lkpm/ATbqYpIyS1bRcSo35U5dseLfT0rpXt3qE6GtUTjcKj4SWFNRfcPh9Kvs9bLRN7qY1B+k/HCrTeSL24saozF4MR+gwScpYNNOxQAAAABJRU5ErkJggg==);
            background-repeat: no-repeat;
            background-position: right;
            border-top-left-radius: `,`px;
            border-top-right-radius: `,`px;
            line-height: 70px;
        `])),o==null?void 0:o.colorPrimary,o==null?void 0:o.borderRadius,o==null?void 0:o.borderRadius),ava:{height:"40px",width:"40px",marginLeft:"10px"},top_text:{color:"#fff",fontSize:"12px",letterSpacing:"1px",lineHeight:"100%",marginLeft:"8px",width:"auto","div:first-of-type":{fontSize:13,marginTop:18,marginBottom:10}},menu:{listStyle:"none",padding:0,margin:0,userSelect:"none","li:last-of-type":{borderTop:"0.5px solid rgba(189, 189, 189, 0.2)",borderRadius:"0px 0px "+o.borderRadius+"px "+o.borderRadius+"px",height:"45px",lineHeight:"45px"}},menuItem:{cursor:"pointer",letterSpacing:"1px",height:"40px",lineHeight:"40px",fontSize:"12px",padding:"0px 15px",transition:"background-color 0.3s ease",color:v?o.colorTextSecondary:"rgba(0,0,0,0.65)",display:"flex",justifyContent:"space-between",":hover":{backgroundColor:"rgba(0, 0, 0, 0.03)"},".anticon":{fontSize:"11px"},"div>.anticon":{fontSize:"12.5px",marginRight:"7px"}},icon:{fontSize:"17px",padding:"7px",marginRight:"5px",cursor:"pointer",borderRadius:"5px",transition:"background-color 0.3s ease",":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"},color:v?o.colorTextSecondary:"rgb(150,150,150)"}}}),fn=function(){var a,o,v,p,c,m,r=(0,f.tT)("user"),g=(0,f.tT)("web"),u=(0,f.tT)("theme"),C=O.Z.useApp(),t=C.message,l=mn(),b=l.styles,N=b.img,Y=b.nickname,z=b.bottomIconDark,G=b.profile,V=b.pop,P=b.content_top,Q=b.ava,H=b.top_text,I=b.box,d=b.menu,S=b.menuItem,E=b.icon;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(un.Z,{title:u==null?void 0:u.getModeName(u==null?void 0:u.mode),children:(0,n.jsx)(j.JO,{type:u!=null&&u.isDarkMode()?A.LP:u!=null&&u.isAutoMode()?A.sb:A._k,className:E,onClick:function(){var K;u==null||(K=u.toggle)===null||K===void 0||K.call(u)}})}),(0,n.jsx)(dn.Z,{className:G,rootClassName:I,autoAdjustOverflow:!1,placement:"bottomRight",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(vn.Z,{className:P,children:[(0,n.jsx)(q.Z,{span:6,children:(0,n.jsxs)(nn.Z,{src:((s.Z===null||s.Z===void 0?void 0:s.Z.basePath)||"/")+"images/default_avatar.jpg",className:Q,children:[" ",(r==null||(a=r.web)===null||a===void 0||(a=a.account)===null||a===void 0||(a=a.slice(0,1))===null||a===void 0?void 0:a.toUpperCase())||"\u672A\u8BBE\u7F6E"]})}),(0,n.jsxs)(q.Z,{span:16,className:H,children:[(0,n.jsx)("div",{children:(r==null||(o=r.web)===null||o===void 0?void 0:o.account)||"\u672A\u767B\u5F55"}),(0,n.jsx)("div",{children:(r==null||(v=r.web)===null||v===void 0?void 0:v.login_ip)||"\u672A\u767B\u5F55"})]})]}),(0,n.jsxs)("ul",{className:d,children:[(0,n.jsxs)("li",{className:S,onClick:function(){return(0,T.BN)("system")},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(j.JO,{type:A.l4,style:{fontSize:14}}),"\u7CFB\u7EDF\u7BA1\u7406"]}),(0,n.jsx)(j.JO,{type:A.O6})]}),(0,n.jsxs)("li",{className:S,onClick:function(){return(0,T.BN)("log")},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(j.JO,{type:A.Zb,style:{fontSize:14}}),"\u64CD\u4F5C\u65E5\u5FD7"]}),(0,n.jsx)(j.JO,{type:A.O6})]}),(0,n.jsxs)("li",{className:S,onClick:_()(F()().mark(function J(){return F()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return t==null||t.loading({content:"\u6B63\u5728\u9000\u51FA\u767B\u5F55",duration:6e5,key:"outLogin"}),M.next=3,(0,cn.k)({onSuccess:function(y){(y==null?void 0:y.code)==200&&(t==null||t.success((y==null?void 0:y.message)||"\u9000\u51FA\u767B\u5F55\u6210\u529F"),(0,X.mK)(),t==null||t.destroy("outLogin"),(0,T.BN)("login"))},onFail:function(y){(y==null?void 0:y.code)==500&&(t==null||t.error((y==null?void 0:y.message)||"\u9000\u51FA\u767B\u5F55\u5931\u8D25"))}});case 3:case"end":return M.stop()}},J)})),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(j.JO,{type:A.n$,style:{fontSize:14}}),"\u9000\u51FA\u767B\u5F55"]}),(0,n.jsx)(j.JO,{type:A.O6})]})]})]}),children:(0,n.jsxs)("div",{className:V,children:[(0,n.jsx)(nn.Z,{className:N,src:((s.Z===null||s.Z===void 0?void 0:s.Z.basePath)||"/")+"images/default_avatar.jpg",children:(r==null||(p=r.web)===null||p===void 0||(p=p.account)===null||p===void 0||(p=p.slice(0,1))===null||p===void 0?void 0:p.toUpperCase())||"\u672A\u767B\u5F55"}),(0,n.jsx)("span",{className:Y,children:(r==null||(c=r.web)===null||c===void 0?void 0:c.account)||"\u672A\u767B\u5F55"}),(0,n.jsx)(j.JO,{className:(g==null||(m=g.info)===null||m===void 0||(m=m.ui)===null||m===void 0?void 0:m.theme)=="dark"?z:"",type:A.z})]})})]})},hn=(0,W.kc)(function(){return{collapsedImg:{fontSize:"27px"},unCollapsed:{overflow:"hidden",position:"absolute",display:"inline-flex",">span":{fontSize:"27px"},">div":{fontSize:"25px",marginLeft:"5px",fontWeight:"bolder",float:"left",lineHeight:"30px",whiteSpace:"nowrap"}}}}),xn=function(a){var o,v,p,c,m,r,g,u=Object.assign({},(w()(a),a)),C=u.menu,t=(0,f.tT)("user"),l=(0,f.tT)("web"),b=(0,k.useState)(!0),N=R()(b,2),Y=N[0],z=N[1],G=function(){var d;if(z(!0),(0,X.KU)()==""){(0,T.BN)("login");return}t==null||(d=t.getWebUser())===null||d===void 0||(d=d.then(function(S){t==null||t.setWeb(S)}))===null||d===void 0||d.finally(function(){z(!1)})};(0,k.useEffect)(function(){G()},[]);var V=hn(),P=V.styles,Q=P.collapsedImg,H=P.unCollapsed;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{}),(0,n.jsx)(j.Ar,{loading:Y,waterMark:l!=null&&(o=l.info)!==null&&o!==void 0&&(o=o.ui)!==null&&o!==void 0&&o.watermark?[l==null||(v=l.info)===null||v===void 0?void 0:v.name,t==null||(p=t.web)===null||p===void 0?void 0:p.account]:"",menus:C,layout:(l==null||(c=l.info)===null||c===void 0||(c=c.ui)===null||c===void 0?void 0:c.layout)!="left"?"horizontal":"inline",flowLayout:(l==null||(m=l.info)===null||m===void 0||(m=m.ui)===null||m===void 0?void 0:m.layout)!="left",menuTheme:(l==null||(r=l.info)===null||r===void 0||(r=r.ui)===null||r===void 0?void 0:r.theme)=="dark"?"dark":"light",footer:(0,n.jsxs)(n.Fragment,{children:["\xA9",new Date().getFullYear()," All Right Revered ",(l==null||(g=l.info)===null||g===void 0?void 0:g.name)||(s.Z===null||s.Z===void 0?void 0:s.Z.title)]}),headerHidden:!1,headerFixed:!1,headerRight:(0,n.jsx)(fn,{}),menuCollapsedWidth:60,menuUnCollapsedWidth:210,collapsedLogo:function(){var d;return(0,n.jsx)(j.JO,{type:A.TR,style:{color:(l==null||(d=l.info)===null||d===void 0||(d=d.ui)===null||d===void 0?void 0:d.color)||(s.Z===null||s.Z===void 0?void 0:s.Z.color)},className:Q})},unCollapsedLogo:function(){var d,S,E;return(0,n.jsxs)("div",{className:H,children:[(0,n.jsx)(j.JO,{type:A.TR,style:{color:(l==null||(d=l.info)===null||d===void 0||(d=d.ui)===null||d===void 0?void 0:d.color)||(s.Z===null||s.Z===void 0?void 0:s.Z.color)}}),(0,n.jsx)("div",{style:{color:(l==null||(S=l.info)===null||S===void 0||(S=S.ui)===null||S===void 0?void 0:S.color)||(s.Z===null||s.Z===void 0?void 0:s.Z.color)},children:(l==null||(E=l.info)===null||E===void 0?void 0:E.name)||(s.Z===null||s.Z===void 0?void 0:s.Z.title)})]})}})]})},bn=xn,yn=(0,W.kc)(function(){return{load:{margin:"0 auto",width:"100%",lineHeight:"80vh"}}}),jn=function(){var h=(0,f.tT)("web"),a=(0,f.A4)(),o=yn(),v=o.styles.load,p=(0,k.useState)([]),c=R()(p,2),m=c[0],r=c[1];(0,k.useEffect)(function(){r((0,T.Mq)(!0))},[]);var g=function(){var C,t;return!(h!=null&&h.info)||!(h!=null&&(C=h.info)!==null&&C!==void 0&&C.ui)?(0,n.jsx)(L.Z,{spinning:!0,size:"large",className:v}):(a==null||(t=a.pop())===null||t===void 0||(t=t.route)===null||t===void 0?void 0:t.auth)===!1?(0,n.jsxs)(j.Q2,{children:[(0,n.jsx)(D,{}),(0,n.jsx)(O.Z,{children:(0,n.jsx)(f.j3,{})})]}):(0,n.jsx)(bn,{menu:m})};return g()}},64292:function(an,B,e){e.d(B,{k:function(){return s},x:function(){return T}});var U=e(15009),R=e.n(U),k=e(99289),L=e.n(k),O=e(41728);function T(){return f.apply(this,arguments)}function f(){return f=L()(R()().mark(function D(){var i,w=arguments;return R()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return i=w.length>0&&w[0]!==void 0?w[0]:{},x.abrupt("return",(0,O.v_)("/auth/login",i==null?void 0:i.body,i==null?void 0:i.onSuccess,i==null?void 0:i.onFail,i==null?void 0:i.onFinally));case 2:case"end":return x.stop()}},D)})),f.apply(this,arguments)}function s(){return Z.apply(this,arguments)}function Z(){return Z=L()(R()().mark(function D(){var i,w=arguments;return R()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return i=w.length>0&&w[0]!==void 0?w[0]:{},x.abrupt("return",(0,O.U2)("/auth/logout",i==null?void 0:i.body,i==null?void 0:i.onSuccess,i==null?void 0:i.onFail,i==null?void 0:i.onFinally));case 2:case"end":return x.stop()}},D)})),Z.apply(this,arguments)}}}]);
